{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function formatDateTime(value: string | number | Date, locale = \"en-US\") {\n  const date = value instanceof Date ? value : new Date(value);\n  return new Intl.DateTimeFormat(locale, {\n    dateStyle: \"medium\",\n    timeStyle: \"short\",\n  }).format(date);\n}\n\nexport function formatDuration(totalSeconds: number) {\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  return `${String(minutes).padStart(2, \"0\")}:${String(seconds).padStart(2, \"0\")}`;\n}\n\nexport function isEditableTarget(target: EventTarget | null) {\n  if (!(target instanceof HTMLElement)) return false;\n  const tag = target.tagName.toLowerCase();\n  return tag === \"input\" || tag === \"textarea\" || target.isContentEditable;\n}\n\nexport function matchesHotkey(event: KeyboardEvent, hotkey: string) {\n  const parts = hotkey\n    .toLowerCase()\n    .split(\"+\")\n    .map((part) => part.trim())\n    .filter(Boolean);\n\n  if (!parts.length) return false;\n\n  const key = parts[parts.length - 1];\n  const modifiers = new Set(parts.slice(0, -1));\n\n  const needsCtrl = modifiers.has(\"ctrl\") || modifiers.has(\"control\");\n  const needsShift = modifiers.has(\"shift\");\n  const needsAlt = modifiers.has(\"alt\") || modifiers.has(\"option\");\n  const needsMeta = modifiers.has(\"cmd\") || modifiers.has(\"meta\") || modifiers.has(\"command\");\n\n  if (needsCtrl && !event.ctrlKey) return false;\n  if (needsShift && !event.shiftKey) return false;\n  if (needsAlt && !event.altKey) return false;\n  if (needsMeta && !event.metaKey) return false;\n\n  return event.key.toLowerCase() === key;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB;AAEO,SAAS,eAAe,KAA6B,EAAE,SAAS,OAAO;IAC5E,MAAM,OAAO,iBAAiB,OAAO,QAAQ,IAAI,KAAK;IACtD,OAAO,IAAI,KAAK,cAAc,CAAC,QAAQ;QACrC,WAAW;QACX,WAAW;IACb,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,eAAe,YAAoB;IACjD,MAAM,UAAU,KAAK,KAAK,CAAC,eAAe;IAC1C,MAAM,UAAU,eAAe;IAC/B,OAAO,GAAG,OAAO,SAAS,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,OAAO,SAAS,QAAQ,CAAC,GAAG,MAAM;AAClF;AAEO,SAAS,iBAAiB,MAA0B;IACzD,IAAI,CAAC,CAAC,kBAAkB,WAAW,GAAG,OAAO;IAC7C,MAAM,MAAM,OAAO,OAAO,CAAC,WAAW;IACtC,OAAO,QAAQ,WAAW,QAAQ,cAAc,OAAO,iBAAiB;AAC1E;AAEO,SAAS,cAAc,KAAoB,EAAE,MAAc;IAChE,MAAM,QAAQ,OACX,WAAW,GACX,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,IACvB,MAAM,CAAC;IAEV,IAAI,CAAC,MAAM,MAAM,EAAE,OAAO;IAE1B,MAAM,MAAM,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE;IACnC,MAAM,YAAY,IAAI,IAAI,MAAM,KAAK,CAAC,GAAG,CAAC;IAE1C,MAAM,YAAY,UAAU,GAAG,CAAC,WAAW,UAAU,GAAG,CAAC;IACzD,MAAM,aAAa,UAAU,GAAG,CAAC;IACjC,MAAM,WAAW,UAAU,GAAG,CAAC,UAAU,UAAU,GAAG,CAAC;IACvD,MAAM,YAAY,UAAU,GAAG,CAAC,UAAU,UAAU,GAAG,CAAC,WAAW,UAAU,GAAG,CAAC;IAEjF,IAAI,aAAa,CAAC,MAAM,OAAO,EAAE,OAAO;IACxC,IAAI,cAAc,CAAC,MAAM,QAAQ,EAAE,OAAO;IAC1C,IAAI,YAAY,CAAC,MAAM,MAAM,EAAE,OAAO;IACtC,IAAI,aAAa,CAAC,MAAM,OAAO,EAAE,OAAO;IAExC,OAAO,MAAM,GAAG,CAAC,WAAW,OAAO;AACrC"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-6\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,kPAAG,EACxB,6OACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,OAAO;YACP,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,oXAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,6SAAI,GAAG;IAC9B,qBACE,+YAAC;QAAK,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAE1F;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst TooltipProvider = TooltipPrimitive.Provider;\nconst Tooltip = TooltipPrimitive.Root;\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 6, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border border-border bg-card px-3 py-1.5 text-xs text-foreground shadow-soft\",\n      className\n    )}\n    {...props}\n  />\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { TooltipProvider, Tooltip, TooltipTrigger, TooltipContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,gYAAyB;AACjD,MAAM,UAAU,4XAAqB;AACrC,MAAM,iBAAiB,+XAAwB;AAE/C,MAAM,+BAAiB,oXAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,+YAAC,+XAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,IAAA,kHAAE,EACX,gHACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,+XAAwB,CAAC,WAAW"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/lib/icons.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Sparkles,\n  ListChecks,\n  NotebookPen,\n  Mail,\n  StickyNote,\n  ClipboardList,\n  Lightbulb,\n  PenSquare,\n  type LucideIcon,\n} from \"lucide-react\";\n\nexport const iconOptions: { id: string; label: string; icon: LucideIcon }[] = [\n  { id: \"Sparkles\", label: \"Sparkles\", icon: Sparkles },\n  { id: \"ListChecks\", label: \"List Checks\", icon: ListChecks },\n  { id: \"NotebookPen\", label: \"Notebook\", icon: NotebookPen },\n  { id: \"Mail\", label: \"Mail\", icon: Mail },\n  { id: \"StickyNote\", label: \"Sticky Note\", icon: StickyNote },\n  { id: \"ClipboardList\", label: \"Clipboard\", icon: ClipboardList },\n  { id: \"Lightbulb\", label: \"Lightbulb\", icon: Lightbulb },\n  { id: \"PenSquare\", label: \"Pen\", icon: PenSquare },\n];\n\nexport function getIconById(id: string | undefined) {\n  const match = iconOptions.find((item) => item.id === id);\n  return match?.icon ?? Sparkles;\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;AAcO,MAAM,cAAiE;IAC5E;QAAE,IAAI;QAAY,OAAO;QAAY,MAAM,0SAAQ;IAAC;IACpD;QAAE,IAAI;QAAc,OAAO;QAAe,MAAM,oTAAU;IAAC;IAC3D;QAAE,IAAI;QAAe,OAAO;QAAY,MAAM,uTAAW;IAAC;IAC1D;QAAE,IAAI;QAAQ,OAAO;QAAQ,MAAM,8RAAI;IAAC;IACxC;QAAE,IAAI;QAAc,OAAO;QAAe,MAAM,oTAAU;IAAC;IAC3D;QAAE,IAAI;QAAiB,OAAO;QAAa,MAAM,6TAAa;IAAC;IAC/D;QAAE,IAAI;QAAa,OAAO;QAAa,MAAM,6SAAS;IAAC;IACvD;QAAE,IAAI;QAAa,OAAO;QAAO,MAAM,iTAAS;IAAC;CAClD;AAEM,SAAS,YAAY,EAAsB;IAChD,MAAM,QAAQ,YAAY,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IACrD,OAAO,OAAO,QAAQ,0SAAQ;AAChC"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      className={cn(\n        \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,sBAAQ,oXAAgB,CAA+B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC3F,qBACE,+YAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,kXACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border border-transparent px-2.5 py-0.5 text-xs font-medium transition-colors\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground\",\n        outline: \"border-border text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"secondary\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,kPAAG,EACvB,uHACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,+YAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/Sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { Plus, Search, Trash2 } from \"lucide-react\";\n\nimport { useAppStore } from \"@/lib/store\";\nimport { formatDateTime } from \"@/lib/utils\";\nimport { useI18n, toIntlLocale } from \"@/lib/i18n\";\nimport { getIconById } from \"@/lib/icons\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\n\nexport function Sidebar() {\n  const {\n    state: { sessions, activeSessionId, searchQuery, settings },\n    actions: { selectSession, createEmptySession, setSearchQuery, deleteSession },\n  } = useAppStore();\n  const { t } = useI18n(settings.general.language);\n  const locale = toIntlLocale(settings.general.language);\n  const templates = settings.enrichments;\n\n  const filtered = sessions.filter((session) => {\n    const query = searchQuery.trim().toLowerCase();\n    if (!query) return true;\n    return (\n      session.title.toLowerCase().includes(query) ||\n      session.transcript.toLowerCase().includes(query) ||\n      session.enriched.toLowerCase().includes(query)\n    );\n  });\n\n  return (\n    <aside className=\"flex h-full min-w-0 flex-col bg-card\">\n      <div className=\"flex items-center justify-between px-5 pt-5\">\n        <div className=\"text-sm font-semibold\">{t(\"sidebar.title\")}</div>\n        <Button variant=\"ghost\" size=\"sm\" onClick={createEmptySession}>\n          <Plus className=\"h-4 w-4\" />\n          {t(\"sidebar.new\")}\n        </Button>\n      </div>\n      <div className=\"px-5 pt-4\">\n        <div className=\"relative\">\n          <Search className=\"pointer-events-none absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n          <Input\n            placeholder={t(\"sidebar.search\")}\n            className=\"pl-9\"\n            aria-label={t(\"aria.searchSessions\")}\n            value={searchQuery}\n            onChange={(event) => setSearchQuery(event.target.value)}\n          />\n        </div>\n      </div>\n      <div className=\"mt-4 flex-1 overflow-y-auto px-3 pb-4\">\n        <div className=\"space-y-2\">\n          {filtered.map((session) => {\n            const template = templates.find((mode) => mode.id === session.mode);\n            const modeLabel = template?.name ?? session.mode;\n            const Icon = getIconById(template?.icon);\n            const preview = (session.enriched || session.transcript || t(\"sidebar.previewEmpty\")).slice(\n              0,\n              80\n            );\n            const isActive = session.id === activeSessionId;\n            return (\n              <div\n                key={session.id}\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => selectSession(session.id)}\n                onKeyDown={(event) => {\n                  if (event.key === \"Enter\" || event.key === \" \") {\n                    event.preventDefault();\n                    selectSession(session.id);\n                  }\n                }}\n                className={cn(\n                  \"w-full rounded-2xl border border-transparent px-3 py-3 text-left transition hover:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n                  isActive && \"border-border bg-muted\"\n                )}\n                aria-current={isActive ? \"page\" : undefined}\n              >\n                <div className=\"flex items-center justify-between gap-2\">\n                  <div className=\"flex items-center gap-2 text-sm font-medium\">\n                    <span className=\"flex h-7 w-7 items-center justify-center rounded-full bg-muted\">\n                      <Icon className=\"h-3.5 w-3.5\" />\n                    </span>\n                    <span>{session.title.trim() ? session.title : t(\"common.untitled\")}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant=\"outline\">{modeLabel}</Badge>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={(event) => {\n                        event.stopPropagation();\n                        deleteSession(session.id);\n                      }}\n                      aria-label={t(\"aria.deleteNote\")}\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"mt-1 text-xs text-muted-foreground\">\n                  {formatDateTime(session.createdAt, locale)}\n                </div>\n                <div className=\"mt-2 truncate text-xs text-muted-foreground\">{preview}</div>\n              </div>\n            );\n          })}\n          {!filtered.length && (\n            <div className=\"rounded-2xl border border-dashed border-border p-4 text-xs text-muted-foreground\">\n              {t(\"sidebar.empty\")}\n            </div>\n          )}\n        </div>\n      </div>\n    </aside>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/lib/export.ts"],"sourcesContent":["\"use client\";\n\ntype SaveResult =\n  | { ok: true; path?: string }\n  | { ok: false; canceled?: boolean; message?: string };\n\nconst isTauri = () =>\n  typeof window !== \"undefined\" &&\n  (\"__TAURI__\" in window || \"__TAURI_INTERNALS__\" in window);\n\nexport async function saveTextFile(\n  content: string,\n  suggestedName: string\n): Promise<SaveResult> {\n  if (isTauri()) {\n    try {\n      const { save } = await import(\"@tauri-apps/plugin-dialog\");\n      const { writeFile } = await import(\"@tauri-apps/plugin-fs\");\n      const path = await save({\n        defaultPath: suggestedName,\n        filters: [\n          { name: \"Text\", extensions: [\"txt\", \"md\"] },\n          { name: \"Markdown\", extensions: [\"md\"] },\n        ],\n      });\n      if (!path) return { ok: false, canceled: true };\n      await writeFile({ path, contents: content });\n      return { ok: true, path };\n    } catch (error) {\n      return { ok: false, message: error instanceof Error ? error.message : \"Save failed.\" };\n    }\n  }\n\n  try {\n    const blob = new Blob([content], { type: \"text/plain;charset=utf-8\" });\n    const url = URL.createObjectURL(blob);\n    const anchor = document.createElement(\"a\");\n    anchor.href = url;\n    anchor.download = suggestedName;\n    document.body.appendChild(anchor);\n    anchor.click();\n    document.body.removeChild(anchor);\n    URL.revokeObjectURL(url);\n    return { ok: true };\n  } catch (error) {\n    return { ok: false, message: error instanceof Error ? error.message : \"Save failed.\" };\n  }\n}\n\nexport async function openAppFolder(path?: string): Promise<SaveResult> {\n  if (!isTauri()) return { ok: false };\n  try {\n    const { appConfigDir, dirname } = await import(\"@tauri-apps/api/path\");\n    const { open } = await import(\"@tauri-apps/plugin-shell\");\n    const fallbackDir = await appConfigDir();\n    const targetDir = path ? await dirname(path) : fallbackDir;\n    await open(targetDir);\n    return { ok: true };\n  } catch (error) {\n    return { ok: false, message: error instanceof Error ? error.message : \"Open failed.\" };\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAMA,MAAM,UAAU,IACd,kDAAkB,eAClB,CAAC,eAAe,UAAU,yBAAyB,MAAM;AAEpD,eAAe,aACpB,OAAe,EACf,aAAqB;IAErB,IAAI;;IAmBJ,IAAI;QACF,MAAM,OAAO,IAAI,KAAK;YAAC;SAAQ,EAAE;YAAE,MAAM;QAA2B;QACpE,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,OAAO,IAAI,GAAG;QACd,OAAO,QAAQ,GAAG;QAClB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,OAAO,KAAK;QACZ,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,IAAI,eAAe,CAAC;QACpB,OAAO;YAAE,IAAI;QAAK;IACpB,EAAE,OAAO,OAAO;QACd,OAAO;YAAE,IAAI;YAAO,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAAe;IACvF;AACF;AAEO,eAAe,cAAc,IAAa;IAC/C,IAAI,CAAC,WAAW,OAAO;QAAE,IAAI;IAAM;;;AAWrC"}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-full bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-full px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-soft\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\"mt-4 focus-visible:outline-none\", className)}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,4XAAkB;AAE/B,MAAM,yBAAW,oXAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+YAAC,4XAAkB;QACjB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,gGACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,4XAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,oXAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+YAAC,+XAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wVACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,+XAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,oXAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+YAAC,+XAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,+XAAqB,CAAC,WAAW"}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Alert = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      role=\"alert\"\n      className={cn(\n        \"relative w-full rounded-lg border border-border bg-card p-4 text-card-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\nAlert.displayName = \"Alert\";\n\nconst AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <h5 ref={ref} className={cn(\"mb-1 font-medium leading-none\", className)} {...props} />\n  )\n);\nAlertTitle.displayName = \"AlertTitle\";\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nAlertDescription.displayName = \"AlertDescription\";\n\nexport { Alert, AlertTitle, AlertDescription };\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,oXAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,+YAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,kHAAE,EACX,oFACA;QAED,GAAG,KAAK;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,oXAAgB,CACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,+YAAC;QAAG,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAGtF,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,oXAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+YAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAErF,iBAAiB,WAAW,GAAG"}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/separator.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport function Separator({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"h-px w-full bg-border\", className)} {...props} />;\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAEO,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAA6C;IACrF,qBAAO,+YAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,yBAAyB;QAAa,GAAG,KAAK;;;;;;AAC1E"}},
    {"offset": {"line": 726, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/skeleton.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Skeleton({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"animate-pulse rounded-md bg-muted\", className)} {...props} />;\n}\n\nexport { Skeleton };\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAA6C;IAC7E,qBAAO,+YAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,qCAAqC;QAAa,GAAG,KAAK;;;;;;AACtF"}},
    {"offset": {"line": 749, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/RecorderPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { FileAudio, Mic, StopCircle } from \"lucide-react\";\nimport { useRef } from \"react\";\n\nimport { Mode, EnrichmentTemplate } from \"@/lib/store\";\nimport { formatDuration } from \"@/lib/utils\";\nimport { useI18n, type Locale } from \"@/lib/i18n\";\nimport { getIconById } from \"@/lib/icons\";\nimport { Button } from \"@/components/ui/button\";\n\ntype RecorderPanelProps = {\n  status: \"idle\" | \"recording\";\n  mode: Mode;\n  hotkey: string;\n  templates: EnrichmentTemplate[];\n  language: Locale;\n  elapsedSeconds: number;\n  level?: number;\n  onModeChange: (mode: Mode) => void;\n  onStart: () => void | Promise<void>;\n  onStop: () => void;\n  onUpload: (file: File) => void;\n};\n\nexport function RecorderPanel({\n  status,\n  mode,\n  hotkey,\n  templates,\n  language,\n  elapsedSeconds,\n  level = 0,\n  onModeChange,\n  onStart,\n  onStop,\n  onUpload,\n}: RecorderPanelProps) {\n  const isRecording = status === \"recording\";\n  const inputRef = useRef<HTMLInputElement | null>(null);\n  const { t } = useI18n(language);\n\n  return (\n    <div className=\"flex h-full flex-col items-center justify-center px-8 py-12 text-center\">\n      <Button\n        size=\"icon\"\n        className=\"h-24 w-24 rounded-full text-lg\"\n        onClick={() => (isRecording ? onStop() : void onStart())}\n        aria-label={isRecording ? t(\"aria.stopRecording\") : t(\"aria.startRecording\")}\n      >\n        {isRecording ? <StopCircle className=\"h-8 w-8\" /> : <Mic className=\"h-8 w-8\" />}\n      </Button>\n      <div className=\"mt-6 text-lg font-semibold\">\n        {isRecording ? t(\"recorder.recording\") : t(\"recorder.ready\")}\n      </div>\n      <div className=\"mt-1 text-sm text-muted-foreground\">\n        {isRecording\n          ? t(\"recorder.live\", { duration: formatDuration(elapsedSeconds) })\n          : t(\"recorder.pressHotkey\", { hotkey })}\n      </div>\n      {isRecording && (\n        <div className=\"mt-6 flex w-full max-w-md items-end justify-center gap-2\">\n          {Array.from({ length: 12 }).map((_, index) => {\n            const base = 8 + level * 40;\n            const variance = 0.6 + ((index % 5) / 10);\n            const height = Math.max(6, Math.min(48, base * variance));\n            return (\n              <div\n                key={index}\n                className=\"w-2 rounded-full bg-primary/70 transition-all duration-75\"\n                style={{ height }}\n              />\n            );\n          })}\n        </div>\n      )}\n      <div className=\"mt-10 flex flex-wrap items-center justify-center gap-2\">\n        {templates.map((option) => {\n          const Icon = getIconById(option.icon);\n          return (\n            <button\n              key={option.id}\n              onClick={() => onModeChange(option.id)}\n              className={`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-60 ${\n                mode === option.id\n                  ? \"bg-primary text-primary-foreground shadow-soft\"\n                  : \"border border-border text-muted-foreground hover:bg-muted\"\n              }`}\n              aria-pressed={mode === option.id}\n              disabled={isRecording}\n            >\n              <Icon className=\"h-4 w-4\" />\n              {option.name}\n            </button>\n          );\n        })}\n      </div>\n      <div className=\"mt-6\">\n        <input\n          ref={inputRef}\n          type=\"file\"\n          accept=\"audio/*\"\n          className=\"hidden\"\n          onChange={(event) => {\n            const file = event.target.files?.[0];\n            if (file) {\n              onUpload(file);\n            }\n            event.currentTarget.value = \"\";\n          }}\n        />\n        <Button\n          variant=\"secondary\"\n          onClick={() => inputRef.current?.click()}\n          disabled={isRecording}\n        >\n          <FileAudio className=\"h-4 w-4\" />\n          {t(\"recorder.upload\")}\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AATA;;;;;;;;AAyBO,SAAS,cAAc,EAC5B,MAAM,EACN,IAAI,EACJ,MAAM,EACN,SAAS,EACT,QAAQ,EACR,cAAc,EACd,QAAQ,CAAC,EACT,YAAY,EACZ,OAAO,EACP,MAAM,EACN,QAAQ,EACW;IACnB,MAAM,cAAc,WAAW;IAC/B,MAAM,WAAW,IAAA,gXAAM,EAA0B;IACjD,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sHAAO,EAAC;IAEtB,qBACE,+YAAC;QAAI,WAAU;;0BACb,+YAAC,qIAAM;gBACL,MAAK;gBACL,WAAU;gBACV,SAAS,IAAO,cAAc,WAAW,KAAK;gBAC9C,cAAY,cAAc,EAAE,wBAAwB,EAAE;0BAErD,4BAAc,+YAAC,oTAAU;oBAAC,WAAU;;;;;yCAAe,+YAAC,2RAAG;oBAAC,WAAU;;;;;;;;;;;0BAErE,+YAAC;gBAAI,WAAU;0BACZ,cAAc,EAAE,wBAAwB,EAAE;;;;;;0BAE7C,+YAAC;gBAAI,WAAU;0BACZ,cACG,EAAE,iBAAiB;oBAAE,UAAU,IAAA,8HAAc,EAAC;gBAAgB,KAC9D,EAAE,wBAAwB;oBAAE;gBAAO;;;;;;YAExC,6BACC,+YAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAG,GAAG,GAAG,CAAC,CAAC,GAAG;oBAClC,MAAM,OAAO,IAAI,QAAQ;oBACzB,MAAM,WAAW,MAAO,AAAC,QAAQ,IAAK;oBACtC,MAAM,SAAS,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,OAAO;oBAC/C,qBACE,+YAAC;wBAEC,WAAU;wBACV,OAAO;4BAAE;wBAAO;uBAFX;;;;;gBAKX;;;;;;0BAGJ,+YAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC;oBACd,MAAM,OAAO,IAAA,4HAAW,EAAC,OAAO,IAAI;oBACpC,qBACE,+YAAC;wBAEC,SAAS,IAAM,aAAa,OAAO,EAAE;wBACrC,WAAW,CAAC,iMAAiM,EAC3M,SAAS,OAAO,EAAE,GACd,mDACA,6DACJ;wBACF,gBAAc,SAAS,OAAO,EAAE;wBAChC,UAAU;;0CAEV,+YAAC;gCAAK,WAAU;;;;;;4BACf,OAAO,IAAI;;uBAXP,OAAO,EAAE;;;;;gBAcpB;;;;;;0BAEF,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBACC,KAAK;wBACL,MAAK;wBACL,QAAO;wBACP,WAAU;wBACV,UAAU,CAAC;4BACT,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;4BACpC,IAAI,MAAM;gCACR,SAAS;4BACX;4BACA,MAAM,aAAa,CAAC,KAAK,GAAG;wBAC9B;;;;;;kCAEF,+YAAC,qIAAM;wBACL,SAAQ;wBACR,SAAS,IAAM,SAAS,OAAO,EAAE;wBACjC,UAAU;;0CAEV,+YAAC,iTAAS;gCAAC,WAAU;;;;;;4BACpB,EAAE;;;;;;;;;;;;;;;;;;;AAKb"}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/AudioPreview.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { Pause, Play, Volume2 } from \"lucide-react\";\n\nimport { useAppStore } from \"@/lib/store\";\nimport { useI18n } from \"@/lib/i18n\";\nimport { Button } from \"@/components/ui/button\";\n\nfunction formatTime(value: number) {\n  if (!Number.isFinite(value) || value < 0) return \"0:00\";\n  const minutes = Math.floor(value / 60);\n  const seconds = Math.floor(value % 60);\n  return `${minutes}:${String(seconds).padStart(2, \"0\")}`;\n}\n\ntype AudioPreviewProps = {\n  src: string;\n};\n\nexport function AudioPreview({ src }: AudioPreviewProps) {\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const fixingDurationRef = useRef(false);\n  const {\n    state: { settings },\n  } = useAppStore();\n  const { t } = useI18n(settings.general.language);\n\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    setIsPlaying(false);\n    setDuration(0);\n    setCurrentTime(0);\n    fixingDurationRef.current = false;\n\n    const handleLoaded = () => {\n      if (Number.isFinite(audio.duration) && audio.duration > 0) {\n        setDuration(audio.duration);\n        return;\n      }\n      // Fix WebM duration in Safari/WebKit: force duration calculation.\n      fixingDurationRef.current = true;\n      const onTimeUpdate = () => {\n        if (Number.isFinite(audio.duration) && audio.duration > 0) {\n          setDuration(audio.duration);\n          audio.currentTime = 0;\n          setCurrentTime(0);\n          fixingDurationRef.current = false;\n          audio.removeEventListener(\"timeupdate\", onTimeUpdate);\n        }\n      };\n      audio.addEventListener(\"timeupdate\", onTimeUpdate);\n      audio.currentTime = 1e101;\n    };\n\n    const handleTime = () => {\n      if (fixingDurationRef.current) return;\n      setCurrentTime(audio.currentTime);\n    };\n    const handleEnd = () => setIsPlaying(false);\n\n    audio.addEventListener(\"loadedmetadata\", handleLoaded);\n    audio.addEventListener(\"timeupdate\", handleTime);\n    audio.addEventListener(\"ended\", handleEnd);\n\n    return () => {\n      audio.removeEventListener(\"loadedmetadata\", handleLoaded);\n      audio.removeEventListener(\"timeupdate\", handleTime);\n      audio.removeEventListener(\"ended\", handleEnd);\n    };\n  }, [src]);\n\n  const toggle = async () => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    if (audio.paused) {\n      try {\n        await audio.play();\n        setIsPlaying(true);\n      } catch {\n        // ignore autoplay restriction errors\n      }\n    } else {\n      audio.pause();\n      setIsPlaying(false);\n    }\n  };\n\n  const onSeek = (value: number) => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    audio.currentTime = value;\n    setCurrentTime(value);\n  };\n\n  return (\n    <div className=\"flex items-center gap-3 rounded-xl bg-muted/70 px-3 py-2\">\n      <audio ref={audioRef} src={src} preload=\"metadata\" />\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        onClick={toggle}\n        aria-label={isPlaying ? t(\"aria.pause\") : t(\"aria.play\")}\n      >\n        {isPlaying ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />}\n      </Button>\n      <div className=\"flex flex-1 items-center gap-2\">\n        <input\n          type=\"range\"\n          min={0}\n          max={duration || 0}\n          step={0.01}\n          value={Math.min(currentTime, duration || currentTime)}\n          onChange={(event) => onSeek(Number(event.target.value))}\n          className=\"h-2 w-full accent-primary\"\n          aria-label={t(\"aria.seekAudio\")}\n        />\n        <span className=\"text-xs text-muted-foreground\">\n          {formatTime(currentTime)} / {formatTime(duration)}\n        </span>\n      </div>\n      <Volume2 className=\"h-4 w-4 text-muted-foreground\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1114, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/SessionView.tsx"],"sourcesContent":["\"use client\";\n\nimport { Copy, FileText, FolderOpen, RefreshCcw } from \"lucide-react\";\nimport { useEffect, useMemo, useState } from \"react\";\n\nimport { useAppStore } from \"@/lib/store\";\nimport { formatDateTime, formatDuration } from \"@/lib/utils\";\nimport { useI18n, toIntlLocale } from \"@/lib/i18n\";\nimport { saveTextFile, openAppFolder } from \"@/lib/export\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { RecorderPanel } from \"@/components/RecorderPanel\";\nimport { AudioPreview } from \"@/components/AudioPreview\";\n\nfunction Stepper({\n  status,\n  stage,\n  labels,\n}: {\n  status: string;\n  stage?: string;\n  labels: { recording: string; transcribing: string; enriching: string };\n}) {\n  const steps = [\n    { id: \"recording\", label: labels.recording },\n    { id: \"transcribing\", label: labels.transcribing },\n    { id: \"enriching\", label: labels.enriching },\n  ];\n\n  const resolveState = (stepId: string) => {\n    if (status === \"recording\") {\n      return stepId === \"recording\" ? \"active\" : \"pending\";\n    }\n    if (status === \"processing\") {\n      if (stage === \"transcribing\") {\n        return stepId === \"recording\" ? \"done\" : stepId === \"transcribing\" ? \"active\" : \"pending\";\n      }\n      if (stage === \"enriching\") {\n        return stepId === \"enriching\" ? \"active\" : \"done\";\n      }\n    }\n    if (status === \"done\") {\n      return \"done\";\n    }\n    return \"pending\";\n  };\n\n  return (\n    <div className=\"flex flex-wrap items-center gap-3\">\n      {steps.map((step, index) => {\n        const state = resolveState(step.id);\n        return (\n          <div key={step.id} className=\"flex items-center gap-3\">\n            <div\n              className={`flex h-7 w-7 items-center justify-center rounded-full text-xs font-semibold ${\n                state === \"done\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : state === \"active\"\n                  ? \"border border-primary text-primary\"\n                  : \"border border-border text-muted-foreground\"\n              }`}\n            >\n              {index + 1}\n            </div>\n            <span className={state === \"pending\" ? \"text-xs text-muted-foreground\" : \"text-xs\"}>\n              {step.label}\n            </span>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport function SessionView() {\n  const {\n    state: { sessions, activeSessionId, mode, settings, recordingLevel },\n    actions,\n  } = useAppStore();\n\n  const activeSession = sessions.find((session) => session.id === activeSessionId) ?? null;\n  const [titleValue, setTitleValue] = useState(activeSession?.title ?? \"\");\n  const [now, setNow] = useState(Date.now());\n  const [activeTab, setActiveTab] = useState(\"enriched\");\n  const [feedback, setFeedback] = useState<{ message: string; tone: \"success\" | \"error\" } | null>(\n    null\n  );\n  const [lastSavePath, setLastSavePath] = useState<string | null>(null);\n  const { t } = useI18n(settings.general.language);\n  const locale = toIntlLocale(settings.general.language);\n  const templates = settings.enrichments;\n\n  useEffect(() => {\n    setTitleValue(activeSession?.title ?? \"\");\n  }, [activeSession?.id, activeSession?.title]);\n\n  useEffect(() => {\n    setActiveTab(\"enriched\");\n  }, [activeSession?.id]);\n\n  useEffect(() => {\n    if (activeSession?.status !== \"recording\") return;\n    const timer = window.setInterval(() => setNow(Date.now()), 1000);\n    return () => window.clearInterval(timer);\n  }, [activeSession?.status]);\n\n  const elapsedSeconds = useMemo(() => {\n    if (!activeSession?.recordingStartedAt) return 0;\n    return Math.max(0, Math.floor((now - activeSession.recordingStartedAt) / 1000));\n  }, [activeSession?.recordingStartedAt, now]);\n\n  if (!activeSession || activeSession.status === \"idle\") {\n    return (\n      <RecorderPanel\n        status=\"idle\"\n        mode={mode}\n        hotkey={settings.general.hotkey}\n        templates={templates}\n        language={settings.general.language}\n        elapsedSeconds={0}\n        level={0}\n        onModeChange={actions.setMode}\n        onStart={actions.startRecording}\n        onStop={actions.stopRecording}\n        onUpload={actions.uploadAudio}\n      />\n    );\n  }\n\n  if (activeSession.status === \"recording\") {\n    return (\n      <RecorderPanel\n        status=\"recording\"\n        mode={mode}\n        hotkey={settings.general.hotkey}\n        templates={templates}\n        language={settings.general.language}\n        elapsedSeconds={elapsedSeconds}\n        level={recordingLevel}\n        onModeChange={actions.setMode}\n        onStart={actions.startRecording}\n        onStop={actions.stopRecording}\n        onUpload={actions.uploadAudio}\n      />\n    );\n  }\n\n  const modeLabel = templates.find((option) => option.id === activeSession.mode)?.name ?? activeSession.mode;\n\n  const showFeedback = (message: string, tone: \"success\" | \"error\" = \"success\") => {\n    setFeedback({ message, tone });\n    window.setTimeout(() => setFeedback(null), 2000);\n  };\n\n  const getTabContent = (tab: string) => {\n    if (tab === \"transcript\") return activeSession.transcript;\n    if (tab === \"metadata\") {\n      const metadata = activeSession.metadata;\n      return [\n        `${t(\"metadata.created\")}: ${formatDateTime(activeSession.createdAt, locale)}`,\n        `${t(\"metadata.duration\")}: ${formatDuration(metadata.durationSec)}`,\n        `${t(\"metadata.mode\")}: ${modeLabel}`,\n        `${t(\"metadata.whisper\")}: ${metadata.whisperProvider}`,\n        `${t(\"metadata.llm\")}: ${metadata.llmProvider}`,\n        `${t(\"metadata.keywords\")}: ${metadata.keywords.join(\", \") || \"-\"}`,\n      ].join(\"\\n\");\n    }\n    return activeSession.enriched;\n  };\n\n  const getTabMarkdown = (tab: string) => {\n    if (tab === \"metadata\") {\n      const metadata = activeSession.metadata;\n      return [\n        `# ${titleValue || t(\"common.untitled\")}`,\n        \"\",\n        `- ${t(\"metadata.created\")}: ${formatDateTime(activeSession.createdAt, locale)}`,\n        `- ${t(\"metadata.duration\")}: ${formatDuration(metadata.durationSec)}`,\n        `- ${t(\"metadata.mode\")}: ${modeLabel}`,\n        `- ${t(\"metadata.whisper\")}: ${metadata.whisperProvider}`,\n        `- ${t(\"metadata.llm\")}: ${metadata.llmProvider}`,\n        `- ${t(\"metadata.keywords\")}: ${metadata.keywords.join(\", \") || \"-\"}`,\n      ].join(\"\\n\");\n    }\n    if (tab === \"transcript\") {\n      return `# ${t(\"tabs.transcript\")}\\n\\n${activeSession.transcript}`;\n    }\n    return activeSession.enriched;\n  };\n\n  if (activeSession.status === \"processing\") {\n    return (\n      <div className=\"mx-auto flex w-full max-w-4xl flex-col gap-6 px-8 py-10\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <div className=\"text-sm font-semibold\">{t(\"processing.title\")}</div>\n            <div className=\"text-xs text-muted-foreground\">{t(\"processing.subtitle\")}</div>\n          </div>\n          <Badge variant=\"outline\">{modeLabel}</Badge>\n        </div>\n        <Stepper\n          status={activeSession.status}\n          stage={activeSession.stage}\n          labels={{\n            recording: t(\"steps.recording\"),\n            transcribing: t(\"steps.transcribing\"),\n            enriching: t(\"steps.enriching\"),\n          }}\n        />\n        <div className=\"grid gap-4\">\n          <Skeleton className=\"h-20\" />\n          <Skeleton className=\"h-28\" />\n          <Skeleton className=\"h-16\" />\n        </div>\n        {activeSession.audioUrl && (\n          <div className=\"rounded-2xl border border-border bg-card p-4 text-sm shadow-soft\">\n            <div className=\"text-xs font-medium text-muted-foreground\">{t(\"processing.audioPreview\")}</div>\n            <div className=\"mt-2\">\n              <AudioPreview src={activeSession.audioUrl} />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (activeSession.status === \"error\") {\n    return (\n      <div className=\"mx-auto flex w-full max-w-3xl flex-col gap-6 px-8 py-10\">\n        <Alert>\n          <AlertTitle>{t(\"error.title\")}</AlertTitle>\n          <AlertDescription>\n            {activeSession.errorMessage ??\n              t(\"error.fallback\")}\n          </AlertDescription>\n          {activeSession.errorDetails && (\n            <div className=\"mt-4 rounded-lg border border-border bg-muted/50 p-3 text-xs text-muted-foreground\">\n              <div className=\"font-medium text-foreground\">{t(\"error.details\")}</div>\n              <div className=\"mt-1 whitespace-pre-wrap\">{activeSession.errorDetails}</div>\n            </div>\n          )}\n          <div className=\"mt-4 flex flex-wrap gap-2\">\n            <Button variant=\"secondary\" onClick={actions.retryProcessing}>\n              <RefreshCcw className=\"h-4 w-4\" />\n              {t(\"error.retry\")}\n            </Button>\n            <Button variant=\"ghost\">{t(\"error.report\")}</Button>\n          </div>\n        </Alert>\n      </div>\n    );\n  }\n\n  const metadata = activeSession.metadata;\n\n  return (\n    <div className=\"mx-auto flex w-full max-w-5xl flex-col gap-6 px-10 py-10\">\n      <div className=\"flex flex-wrap items-center justify-between gap-4\">\n        <div>\n          <Input\n            value={titleValue}\n            onChange={(event) => setTitleValue(event.target.value)}\n            onBlur={() => actions.updateSessionTitle(activeSession.id, titleValue)}\n            className=\"h-12 text-lg font-semibold\"\n            placeholder={t(\"common.untitled\")}\n            aria-label={t(\"aria.sessionTitle\")}\n          />\n          <div className=\"mt-2 text-xs text-muted-foreground\">\n            {formatDateTime(activeSession.createdAt, locale)}\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Badge variant=\"outline\">{modeLabel}</Badge>\n          <Badge variant=\"secondary\">{metadata.llmProvider}</Badge>\n        </div>\n      </div>\n      <Stepper\n        status={activeSession.status}\n        stage={activeSession.stage}\n        labels={{\n          recording: t(\"steps.recording\"),\n          transcribing: t(\"steps.transcribing\"),\n          enriching: t(\"steps.enriching\"),\n        }}\n      />\n      <Separator />\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <div className=\"flex flex-wrap items-center justify-between gap-4\">\n          <TabsList>\n            <TabsTrigger value=\"enriched\">{t(\"tabs.enriched\")}</TabsTrigger>\n            <TabsTrigger value=\"transcript\">{t(\"tabs.transcript\")}</TabsTrigger>\n            <TabsTrigger value=\"metadata\">{t(\"tabs.metadata\")}</TabsTrigger>\n          </TabsList>\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Button\n              variant=\"secondary\"\n              onClick={async () => {\n                try {\n                  await navigator.clipboard.writeText(getTabContent(activeTab));\n                  showFeedback(t(\"feedback.copied\"), \"success\");\n                } catch {\n                  showFeedback(t(\"feedback.copyFailed\"), \"error\");\n                }\n              }}\n            >\n              <Copy className=\"h-4 w-4\" />\n              {t(\"buttons.copy\")}\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={async () => {\n                try {\n                  await navigator.clipboard.writeText(getTabMarkdown(activeTab));\n                  showFeedback(t(\"feedback.copiedMarkdown\"), \"success\");\n                } catch {\n                  showFeedback(t(\"feedback.copyFailed\"), \"error\");\n                }\n              }}\n            >\n              <FileText className=\"h-4 w-4\" />\n              {t(\"buttons.copyMarkdown\")}\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={async () => {\n                const name = `${titleValue || t(\"file.defaultName\")}-${activeTab}.md`;\n                const result = await saveTextFile(getTabMarkdown(activeTab), name);\n                if (result.ok) {\n                  if (result.path) setLastSavePath(result.path);\n                  showFeedback(t(\"feedback.saved\"), \"success\");\n                } else if (!result.canceled) {\n                  showFeedback(t(\"feedback.saveFailed\"), \"error\");\n                }\n              }}\n            >\n              {t(\"buttons.save\")}\n            </Button>\n            <Button\n              variant=\"ghost\"\n              onClick={async () => {\n                const result = await openAppFolder(lastSavePath ?? undefined);\n                if (!result.ok) {\n                  showFeedback(t(\"feedback.openFolderFailed\"), \"error\");\n                }\n              }}\n            >\n              <FolderOpen className=\"h-4 w-4\" />\n              {t(\"buttons.openFolder\")}\n            </Button>\n            {feedback && (\n              <span\n                className={`text-xs ${\n                  feedback.tone === \"success\" ? \"text-emerald-600\" : \"text-destructive\"\n                }`}\n              >\n                {feedback.message}\n              </span>\n            )}\n          </div>\n        </div>\n        <TabsContent value=\"enriched\">\n          <div className=\"rounded-2xl border border-border bg-card p-4 text-sm leading-relaxed shadow-soft\">\n            <div className=\"whitespace-pre-wrap\">{activeSession.enriched}</div>\n          </div>\n        </TabsContent>\n        <TabsContent value=\"transcript\">\n          <div className=\"rounded-2xl border border-border bg-card p-4 text-sm leading-relaxed text-muted-foreground shadow-soft\">\n            <div className=\"whitespace-pre-wrap\">{activeSession.transcript}</div>\n          </div>\n        </TabsContent>\n        <TabsContent value=\"metadata\">\n          <div className=\"rounded-2xl border border-border bg-card p-4 text-sm shadow-soft\">\n            <div className=\"grid gap-3\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-muted-foreground\">{t(\"metadata.created\")}</span>\n                <span>{formatDateTime(activeSession.createdAt, locale)}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-muted-foreground\">{t(\"metadata.duration\")}</span>\n                <span>{formatDuration(metadata.durationSec)}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-muted-foreground\">{t(\"metadata.mode\")}</span>\n                <span>{modeLabel}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-muted-foreground\">{t(\"metadata.whisper\")}</span>\n                <span>{metadata.whisperProvider}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-muted-foreground\">{t(\"metadata.llm\")}</span>\n                <span>{metadata.llmProvider}</span>\n              </div>\n              <div className=\"flex items-start justify-between gap-4\">\n                <span className=\"text-muted-foreground\">{t(\"metadata.keywords\")}</span>\n                <div className=\"flex flex-wrap justify-end gap-1\">\n                  {metadata.keywords.length ? (\n                    metadata.keywords.map((keyword) => (\n                      <Badge key={keyword} variant=\"secondary\">\n                        {keyword}\n                      </Badge>\n                    ))\n                  ) : (\n                    <span className=\"text-xs text-muted-foreground\">-</span>\n                  )}\n                </div>\n              </div>\n              <div className=\"flex items-start justify-between gap-4\">\n                <span className=\"text-muted-foreground\">{t(\"metadata.audio\")}</span>\n                {activeSession.audioUrl ? (\n                  <AudioPreview src={activeSession.audioUrl} />\n                ) : (\n                  <span className=\"text-muted-foreground\">{t(\"metadata.noAudio\")}</span>\n                )}\n              </div>\n            </div>\n          </div>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2066, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { useAppStore } from \"@/lib/store\";\nimport { useI18n } from \"@/lib/i18n\";\n\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out\",\n      className\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-2xl translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-border bg-card p-6 shadow-lg focus:outline-none\",\n        className\n      )}\n      {...props}\n    >\n      <DialogCloseButton />\n      {children}\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nfunction DialogCloseButton() {\n  const {\n    state: { settings },\n  } = useAppStore();\n  const { t } = useI18n(settings.general.language);\n\n  return (\n    <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-md opacity-70 transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\">\n      <X className=\"h-4 w-4\" />\n      <span className=\"sr-only\">{t(\"aria.close\")}</span>\n    </DialogPrimitive.Close>\n  );\n}\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-1.5 text-left\", className)} {...props} />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex items-center justify-end gap-2\", className)} {...props} />\n);\nDialogFooter.displayName = \"DialogFooter\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold\", className)} {...props} />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n  DialogClose,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AARA;;;;;;;;AAUA,MAAM,SAAS,2XAAoB;AACnC,MAAM,gBAAgB,8XAAuB;AAC7C,MAAM,eAAe,6XAAsB;AAC3C,MAAM,cAAc,4XAAqB;AAEzC,MAAM,8BAAgB,oXAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+YAAC,8XAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,gHACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,8XAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,oXAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,+YAAC;;0BACC,+YAAC;;;;;0BACD,+YAAC,8XAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,+KACA;gBAED,GAAG,KAAK;;kCAET,+YAAC;;;;;oBACA;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,8XAAuB,CAAC,WAAW;AAE/D,SAAS;IACP,MAAM,EACJ,OAAO,EAAE,QAAQ,EAAE,EACpB,GAAG,IAAA,4HAAW;IACf,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sHAAO,EAAC,SAAS,OAAO,CAAC,QAAQ;IAE/C,qBACE,+YAAC,4XAAqB;QAAC,WAAU;;0BAC/B,+YAAC,qRAAC;gBAAC,WAAU;;;;;;0BACb,+YAAC;gBAAK,WAAU;0BAAW,EAAE;;;;;;;;;;;;AAGnC;AAEA,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,+YAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,uCAAuC;QAAa,GAAG,KAAK;;;;;;AAEjF,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,+YAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,uCAAuC;QAAa,GAAG,KAAK;;;;;;AAEjF,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,oXAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+YAAC,4XAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,yBAAyB;QAAa,GAAG,KAAK;;;;;;AAE/F,YAAY,WAAW,GAAG,4XAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,oXAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+YAAC,kYAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,kYAA2B,CAAC,WAAW"}},
    {"offset": {"line": 2215, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/SettingsDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode, useEffect, useMemo, useRef, useState } from \"react\";\nimport { Plus, Trash2, RotateCcw, ChevronDown } from \"lucide-react\";\n\nimport { useAppStore } from \"@/lib/store\";\nimport { supportedLocales, useI18n } from \"@/lib/i18n\";\nimport { iconOptions, getIconById } from \"@/lib/icons\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { getDefaultEnrichments } from \"@/lib/mock\";\n\nconst llmModels: Record<string, string[]> = {\n  Local: [\"Local Default\", \"Local Small\", \"Local Large\"],\n  OpenAI: [\"gpt-4o-mini\", \"gpt-4o\", \"gpt-4.1\"],\n  Gemini: [\"gemini-1.5-flash\", \"gemini-1.5-pro\"],\n  Claude: [\"claude-3.5-sonnet\", \"claude-3-opus\"],\n  Grok: [\"grok-2-mini\", \"grok-2\"],\n};\n\nconst whisperProviders = [\"Local\", \"OpenAI Whisper API\", \"Other\"] as const;\nconst llmProviders = [\"Local\", \"OpenAI\", \"Gemini\", \"Claude\", \"Grok\"] as const;\nconst languages = [\"Auto\", \"de\", \"en\", \"fr\", \"it\"] as const;\n\nconst createId = () => {\n  if (typeof crypto !== \"undefined\" && \"randomUUID\" in crypto) {\n    return crypto.randomUUID();\n  }\n  return `tmpl-${Math.random().toString(36).slice(2, 10)}`;\n};\n\ntype SettingsDialogProps = {\n  children: ReactNode;\n};\n\nfunction Section({ title, description, children }: { title: string; description?: string; children: ReactNode }) {\n  return (\n    <section className=\"space-y-3\">\n      <div>\n        <div className=\"text-sm font-semibold\">{title}</div>\n        {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      </div>\n      <div className=\"grid gap-3\">{children}</div>\n    </section>\n  );\n}\n\nfunction Field({ label, children }: { label: string; children: ReactNode }) {\n  return (\n    <label className=\"grid gap-2 text-xs font-medium text-muted-foreground\">\n      <span>{label}</span>\n      {children}\n    </label>\n  );\n}\n\nexport function SettingsDialog({ children }: SettingsDialogProps) {\n  const {\n    state: { settings, settingsSource },\n    actions: { updateSettings },\n  } = useAppStore();\n  const [open, setOpen] = useState(false);\n  const [draft, setDraft] = useState(settings);\n  const [focusEnrichmentId, setFocusEnrichmentId] = useState<string | null>(null);\n  const enrichmentInputRefs = useRef<Record<string, HTMLInputElement | null>>({});\n  const [expandedIds, setExpandedIds] = useState<Set<string>>(new Set());\n  const { t } = useI18n(draft.general.language);\n\n  useEffect(() => {\n    if (open) {\n      setDraft(settings);\n      setExpandedIds(new Set(settings.enrichments.map((item) => item.id)));\n    }\n  }, [open, settings]);\n\n  const modelOptions = useMemo(\n    () => llmModels[draft.api.llm.provider] ?? llmModels.Local,\n    [draft.api.llm.provider]\n  );\n\n  const handleOfflineToggle = (value: boolean) => {\n    setDraft((prev) => ({\n      ...prev,\n      privacy: { ...prev.privacy, offline: value },\n      api: {\n        ...prev.api,\n        whisper: { ...prev.api.whisper, provider: value ? \"Local\" : prev.api.whisper.provider },\n        llm: { ...prev.api.llm, provider: value ? \"Local\" : prev.api.llm.provider },\n      },\n    }));\n  };\n\n  const handleAddEnrichment = () => {\n    const id = createId();\n    setDraft((prev) => ({\n      ...prev,\n      enrichments: [\n        ...prev.enrichments,\n        {\n          id,\n          name: t(\"settings.enrichments.newName\"),\n          icon: \"Sparkles\",\n          prompt: \"\",\n        },\n      ],\n    }));\n    setExpandedIds((prev) => {\n      const next = new Set(prev);\n      next.add(id);\n      return next;\n    });\n    setFocusEnrichmentId(id);\n  };\n\n  const handleDeleteEnrichment = (id: string) => {\n    setDraft((prev) => {\n      const next = prev.enrichments.filter((item) => item.id !== id);\n      if (!next.length) return prev;\n      return { ...prev, enrichments: next };\n    });\n  };\n\n  const handleResetEnrichments = () => {\n    setDraft((prev) => ({\n      ...prev,\n      enrichments: getDefaultEnrichments(prev.general.language),\n    }));\n  };\n\n  useEffect(() => {\n    if (!focusEnrichmentId) return;\n    const input = enrichmentInputRefs.current[focusEnrichmentId];\n    if (input) {\n      input.focus();\n      input.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\n      setFocusEnrichmentId(null);\n    }\n  }, [focusEnrichmentId, draft.enrichments]);\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>{children}</DialogTrigger>\n      <DialogContent aria-describedby=\"settings-description\" className=\"max-w-3xl\">\n        <DialogHeader>\n          <div className=\"flex flex-wrap items-center justify-between gap-2\">\n            <DialogTitle>{t(\"settings.title\")}</DialogTitle>\n            <Badge variant=\"outline\">\n              {t(\"settings.source.label\")}:{\" \"}\n              {settingsSource === \"tauri\"\n                ? t(\"settings.source.tauri\")\n                : settingsSource === \"local\"\n                ? t(\"settings.source.local\")\n                : t(\"settings.source.default\")}\n            </Badge>\n          </div>\n          <DialogDescription id=\"settings-description\">\n            {t(\"settings.description\")}\n          </DialogDescription>\n        </DialogHeader>\n        <Tabs defaultValue=\"general\" className=\"w-full\">\n          <TabsList className=\"w-full justify-start\">\n            <TabsTrigger value=\"general\">{t(\"settings.tabs.general\")}</TabsTrigger>\n            <TabsTrigger value=\"api\">{t(\"settings.tabs.api\")}</TabsTrigger>\n            <TabsTrigger value=\"enrichments\">{t(\"settings.tabs.enrichments\")}</TabsTrigger>\n          </TabsList>\n          <div className=\"max-h-[60vh] overflow-y-auto pr-2\">\n            <TabsContent value=\"general\" className=\"mt-6 space-y-6\">\n              <Section title={t(\"settings.general.appearance\")}>\n                <div className=\"grid gap-3 md:grid-cols-2\">\n                  <Field label={t(\"settings.general.theme\")}\n                  >\n                    <select\n                      className=\"h-10 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                      value={draft.general.theme}\n                      onChange={(event) =>\n                        setDraft((prev) => ({\n                          ...prev,\n                          general: { ...prev.general, theme: event.target.value as any },\n                        }))\n                      }\n                    >\n                      <option value=\"system\">{t(\"theme.system\")}</option>\n                      <option value=\"light\">{t(\"theme.light\")}</option>\n                      <option value=\"dark\">{t(\"theme.dark\")}</option>\n                    </select>\n                  </Field>\n                  <Field label={t(\"settings.general.language\")}>\n                    <select\n                      className=\"h-10 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                      value={draft.general.language}\n                      onChange={(event) =>\n                        setDraft((prev) => ({\n                          ...prev,\n                          general: { ...prev.general, language: event.target.value as any },\n                        }))\n                      }\n                    >\n                      {supportedLocales.map((locale) => (\n                        <option key={locale} value={locale}>\n                          {t(`language.${locale}`)}\n                        </option>\n                      ))}\n                    </select>\n                  </Field>\n                </div>\n              </Section>\n              <Separator />\n              <Section title={t(\"settings.general.hotkey\")}>\n                <Field label={t(\"settings.general.hotkeyLabel\")}>\n                  <Input\n                    value={draft.general.hotkey}\n                    onChange={(event) =>\n                      setDraft((prev) => ({\n                        ...prev,\n                        general: { ...prev.general, hotkey: event.target.value },\n                      }))\n                    }\n                  />\n                </Field>\n              </Section>\n            </TabsContent>\n            <TabsContent value=\"api\" className=\"mt-6 space-y-6\">\n              <Section title={t(\"settings.api.whisperTitle\")}>\n                <Field label={t(\"settings.api.provider\")}>\n                  <select\n                    className=\"h-10 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                    value={draft.api.whisper.provider}\n                    onChange={(event) =>\n                      setDraft((prev) => ({\n                        ...prev,\n                        api: {\n                          ...prev.api,\n                          whisper: { ...prev.api.whisper, provider: event.target.value as any },\n                        },\n                      }))\n                    }\n                    disabled={draft.privacy.offline}\n                  >\n                    {whisperProviders.map((provider) => (\n                      <option key={provider} value={provider}>\n                        {provider === \"Local\"\n                          ? t(\"provider.local\")\n                          : provider === \"OpenAI Whisper API\"\n                          ? t(\"provider.whisperOpenAI\")\n                          : t(\"provider.whisperOther\")}\n                      </option>\n                    ))}\n                  </select>\n                </Field>\n                <div className=\"grid gap-3 md:grid-cols-2\">\n                  <Field label={t(\"settings.api.apiKey\")}>\n                    <Input\n                      type=\"password\"\n                      placeholder={t(\"placeholder.apiKey\")}\n                      value={draft.api.whisper.apiKey}\n                      onChange={(event) =>\n                        setDraft((prev) => ({\n                          ...prev,\n                          api: {\n                            ...prev.api,\n                            whisper: { ...prev.api.whisper, apiKey: event.target.value },\n                          },\n                        }))\n                      }\n                      disabled={draft.api.whisper.provider === \"Local\" || draft.privacy.offline}\n                    />\n                  </Field>\n                  <Field label={t(\"settings.api.endpoint\")}>\n                    <Input\n                      placeholder={t(\"placeholder.endpoint\")}\n                      value={draft.api.whisper.endpoint}\n                      onChange={(event) =>\n                        setDraft((prev) => ({\n                          ...prev,\n                          api: {\n                            ...prev.api,\n                            whisper: { ...prev.api.whisper, endpoint: event.target.value },\n                          },\n                        }))\n                      }\n                      disabled={draft.api.whisper.provider === \"Local\" || draft.privacy.offline}\n                    />\n                  </Field>\n                </div>\n                <Field label={t(\"settings.api.language\")}>\n                  <select\n                    className=\"h-10 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                    value={draft.api.whisper.language}\n                    onChange={(event) =>\n                      setDraft((prev) => ({\n                        ...prev,\n                        api: {\n                          ...prev.api,\n                          whisper: { ...prev.api.whisper, language: event.target.value as any },\n                        },\n                      }))\n                    }\n                  >\n                    {languages.map((language) => (\n                      <option key={language} value={language}>\n                        {language === \"Auto\" ? t(\"language.auto\") : t(`language.${language}`)}\n                      </option>\n                    ))}\n                  </select>\n                </Field>\n              </Section>\n              <Separator />\n              <Section title={t(\"settings.api.llmTitle\")}>\n                <Field label={t(\"settings.api.provider\")}>\n                  <select\n                    className=\"h-10 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                    value={draft.api.llm.provider}\n                    onChange={(event) => {\n                      const provider = event.target.value as (typeof llmProviders)[number];\n                      const nextModels = llmModels[provider] ?? llmModels.Local;\n                      setDraft((prev) => ({\n                        ...prev,\n                        api: {\n                          ...prev.api,\n                          llm: { ...prev.api.llm, provider, model: nextModels[0] ?? \"\" },\n                        },\n                      }));\n                    }}\n                    disabled={draft.privacy.offline}\n                  >\n                    {llmProviders.map((provider) => (\n                      <option key={provider} value={provider}>\n                        {provider === \"Local\"\n                          ? t(\"provider.local\")\n                          : provider === \"OpenAI\"\n                          ? t(\"provider.openai\")\n                          : provider === \"Gemini\"\n                          ? t(\"provider.gemini\")\n                          : provider === \"Claude\"\n                          ? t(\"provider.claude\")\n                          : t(\"provider.grok\")}\n                      </option>\n                    ))}\n                  </select>\n                </Field>\n                <div className=\"grid gap-3 md:grid-cols-2\">\n                  <Field label={t(\"settings.api.model\")}>\n                    <select\n                      className=\"h-10 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                      value={draft.api.llm.model || modelOptions[0]}\n                      onChange={(event) =>\n                        setDraft((prev) => ({\n                          ...prev,\n                          api: {\n                            ...prev.api,\n                            llm: { ...prev.api.llm, model: event.target.value },\n                          },\n                        }))\n                      }\n                      disabled={draft.privacy.offline}\n                    >\n                      {modelOptions.map((model) => (\n                        <option key={model} value={model}>\n                          {model}\n                        </option>\n                      ))}\n                    </select>\n                  </Field>\n                  <Field label={t(\"settings.api.apiKey\")}>\n                    <Input\n                      type=\"password\"\n                      placeholder={t(\"placeholder.apiKey\")}\n                      value={draft.api.llm.apiKey}\n                      onChange={(event) =>\n                        setDraft((prev) => ({\n                          ...prev,\n                          api: {\n                            ...prev.api,\n                            llm: { ...prev.api.llm, apiKey: event.target.value },\n                          },\n                        }))\n                      }\n                      disabled={draft.api.llm.provider === \"Local\" || draft.privacy.offline}\n                    />\n                  </Field>\n                </div>\n                <Field label={t(\"settings.api.baseUrl\")}\n                >\n                  <Input\n                    placeholder={t(\"placeholder.baseUrl\")}\n                    value={draft.api.llm.baseUrl}\n                    onChange={(event) =>\n                      setDraft((prev) => ({\n                        ...prev,\n                        api: {\n                          ...prev.api,\n                          llm: { ...prev.api.llm, baseUrl: event.target.value },\n                        },\n                      }))\n                    }\n                    disabled={draft.api.llm.provider === \"Local\" || draft.privacy.offline}\n                  />\n                </Field>\n              </Section>\n              <Separator />\n              <Section title={t(\"settings.privacy.title\")}\n              >\n                <label className=\"flex items-center justify-between rounded-xl border border-border px-4 py-3 text-sm\">\n                  <span>{t(\"settings.privacy.offline\")}</span>\n                  <input\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 accent-primary\"\n                    checked={draft.privacy.offline}\n                    onChange={(event) => handleOfflineToggle(event.target.checked)}\n                  />\n                </label>\n                <label className=\"flex items-center justify-between rounded-xl border border-border px-4 py-3 text-sm\">\n                  <span>{t(\"settings.privacy.storeAudio\")}</span>\n                  <input\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 accent-primary\"\n                    checked={draft.privacy.storeAudio}\n                    onChange={(event) =>\n                      setDraft((prev) => ({\n                        ...prev,\n                        privacy: { ...prev.privacy, storeAudio: event.target.checked },\n                      }))\n                    }\n                  />\n                </label>\n              </Section>\n            </TabsContent>\n            <TabsContent value=\"enrichments\" className=\"mt-6 space-y-6\">\n              <Section title={t(\"settings.enrichments.title\")} description={t(\"settings.enrichments.description\")}>\n                <div className=\"flex flex-wrap items-center justify-between gap-2\">\n                  <Button variant=\"ghost\" onClick={handleResetEnrichments}>\n                    <RotateCcw className=\"h-4 w-4\" />\n                    {t(\"settings.enrichments.reset\")}\n                  </Button>\n                  <Button variant=\"secondary\" onClick={handleAddEnrichment}>\n                    <Plus className=\"h-4 w-4\" />\n                    {t(\"settings.enrichments.add\")}\n                  </Button>\n                </div>\n                <div className=\"space-y-3\">\n                  {draft.enrichments.map((item, index) => {\n                    const Icon = getIconById(item.icon);\n                    return (\n                      <div key={item.id} className=\"rounded-2xl border border-border bg-card p-4 shadow-soft\">\n                        <div className=\"flex flex-wrap items-start justify-between gap-3\">\n                          <div className=\"flex flex-1 items-center gap-3\">\n                            <span className=\"flex h-9 w-9 items-center justify-center rounded-full bg-muted\">\n                              <Icon className=\"h-4 w-4\" />\n                            </span>\n                            <Input\n                              value={item.name}\n                              ref={(node) => {\n                                enrichmentInputRefs.current[item.id] = node;\n                              }}\n                              onChange={(event) =>\n                                setDraft((prev) => {\n                                  const next = [...prev.enrichments];\n                                  next[index] = { ...item, name: event.target.value };\n                                  return { ...prev, enrichments: next };\n                                })\n                              }\n                              className=\"h-10\"\n                              placeholder={t(\"settings.enrichments.name\")}\n                            />\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <button\n                              type=\"button\"\n                              onClick={() =>\n                                setExpandedIds((prev) => {\n                                  const next = new Set(prev);\n                                  if (next.has(item.id)) {\n                                    next.delete(item.id);\n                                  } else {\n                                    next.add(item.id);\n                                  }\n                                  return next;\n                                })\n                              }\n                              className={`flex h-8 w-8 items-center justify-center rounded-full border border-border text-muted-foreground transition hover:bg-muted ${\n                                expandedIds.has(item.id) ? \"rotate-180\" : \"\"\n                              }`}\n                              aria-label=\"Toggle enrichment\"\n                            >\n                              <ChevronDown className=\"h-4 w-4\" />\n                            </button>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              onClick={() => handleDeleteEnrichment(item.id)}\n                              disabled={draft.enrichments.length <= 1}\n                              aria-label={t(\"settings.enrichments.delete\")}\n                            >\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                        {expandedIds.has(item.id) && (\n                          <>\n                            <div className=\"mt-4\">\n                              <Field label={t(\"settings.enrichments.icon\")}>\n                                <div className=\"grid grid-cols-4 gap-2\">\n                                  {iconOptions.map((option) => {\n                                    const SelectedIcon = option.icon;\n                                    const isActive = option.id === item.icon;\n                                    return (\n                                      <button\n                                        key={option.id}\n                                        type=\"button\"\n                                        onClick={() =>\n                                          setDraft((prev) => {\n                                            const next = [...prev.enrichments];\n                                            next[index] = { ...item, icon: option.id };\n                                            return { ...prev, enrichments: next };\n                                          })\n                                        }\n                                        className={`flex flex-col items-center justify-center gap-1 rounded-lg border px-2 py-2 text-xs transition ${\n                                          isActive\n                                            ? \"border-primary bg-primary/10 text-primary\"\n                                            : \"border-border hover:bg-muted\"\n                                        }`}\n                                        aria-label={option.label}\n                                      >\n                                        <SelectedIcon className=\"h-4 w-4\" />\n                                        <span>{option.label}</span>\n                                      </button>\n                                    );\n                                  })}\n                                </div>\n                              </Field>\n                            </div>\n                            <Field label={t(\"settings.enrichments.prompt\")}>\n                              <textarea\n                                className=\"min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                                value={item.prompt}\n                                onChange={(event) =>\n                                  setDraft((prev) => {\n                                    const next = [...prev.enrichments];\n                                    next[index] = { ...item, prompt: event.target.value };\n                                    return { ...prev, enrichments: next };\n                                  })\n                                }\n                              />\n                            </Field>\n                          </>\n                        )}\n                      </div>\n                    );\n                  })}\n                  {!draft.enrichments.length && (\n                    <div className=\"rounded-2xl border border-dashed border-border p-4 text-xs text-muted-foreground\">\n                      {t(\"settings.enrichments.empty\")}\n                    </div>\n                  )}\n                </div>\n              </Section>\n            </TabsContent>\n          </div>\n        </Tabs>\n        <DialogFooter>\n          <Button variant=\"ghost\" onClick={() => setOpen(false)}>\n            {t(\"buttons.cancel\")}\n          </Button>\n          <Button\n            onClick={async () => {\n              const next = {\n                ...draft,\n                api: {\n                  ...draft.api,\n                  llm: { ...draft.api.llm, model: draft.api.llm.model || modelOptions[0] || \"\" },\n                },\n              };\n              await updateSettings(next);\n              setOpen(false);\n            }}\n          >\n            {t(\"buttons.saveSettings\")}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AAtBA;;;;;;;;;;;;;;AAwBA,MAAM,YAAsC;IAC1C,OAAO;QAAC;QAAiB;QAAe;KAAc;IACtD,QAAQ;QAAC;QAAe;QAAU;KAAU;IAC5C,QAAQ;QAAC;QAAoB;KAAiB;IAC9C,QAAQ;QAAC;QAAqB;KAAgB;IAC9C,MAAM;QAAC;QAAe;KAAS;AACjC;AAEA,MAAM,mBAAmB;IAAC;IAAS;IAAsB;CAAQ;AACjE,MAAM,eAAe;IAAC;IAAS;IAAU;IAAU;IAAU;CAAO;AACpE,MAAM,YAAY;IAAC;IAAQ;IAAM;IAAM;IAAM;CAAK;AAElD,MAAM,WAAW;IACf,IAAI,OAAO,WAAW,eAAe,gBAAgB,QAAQ;QAC3D,OAAO,OAAO,UAAU;IAC1B;IACA,OAAO,CAAC,KAAK,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,GAAG,KAAK;AAC1D;AAMA,SAAS,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAgE;IAC7G,qBACE,+YAAC;QAAQ,WAAU;;0BACjB,+YAAC;;kCACC,+YAAC;wBAAI,WAAU;kCAAyB;;;;;;oBACvC,6BAAe,+YAAC;wBAAE,WAAU;kCAAiC;;;;;;;;;;;;0BAEhE,+YAAC;gBAAI,WAAU;0BAAc;;;;;;;;;;;;AAGnC;AAEA,SAAS,MAAM,EAAE,KAAK,EAAE,QAAQ,EAA0C;IACxE,qBACE,+YAAC;QAAM,WAAU;;0BACf,+YAAC;0BAAM;;;;;;YACN;;;;;;;AAGP;AAEO,SAAS,eAAe,EAAE,QAAQ,EAAuB;IAC9D,MAAM,EACJ,OAAO,EAAE,QAAQ,EAAE,cAAc,EAAE,EACnC,SAAS,EAAE,cAAc,EAAE,EAC5B,GAAG,IAAA,4HAAW;IACf,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,kXAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,kXAAQ,EAAC;IACnC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,kXAAQ,EAAgB;IAC1E,MAAM,sBAAsB,IAAA,gXAAM,EAA0C,CAAC;IAC7E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kXAAQ,EAAc,IAAI;IAChE,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sHAAO,EAAC,MAAM,OAAO,CAAC,QAAQ;IAE5C,IAAA,mXAAS,EAAC;QACR,IAAI,MAAM;YACR,SAAS;YACT,eAAe,IAAI,IAAI,SAAS,WAAW,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,EAAE;QACnE;IACF,GAAG;QAAC;QAAM;KAAS;IAEnB,MAAM,eAAe,IAAA,iXAAO,EAC1B,IAAM,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,UAAU,KAAK,EAC1D;QAAC,MAAM,GAAG,CAAC,GAAG,CAAC,QAAQ;KAAC;IAG1B,MAAM,sBAAsB,CAAC;QAC3B,SAAS,CAAC,OAAS,CAAC;gBAClB,GAAG,IAAI;gBACP,SAAS;oBAAE,GAAG,KAAK,OAAO;oBAAE,SAAS;gBAAM;gBAC3C,KAAK;oBACH,GAAG,KAAK,GAAG;oBACX,SAAS;wBAAE,GAAG,KAAK,GAAG,CAAC,OAAO;wBAAE,UAAU,QAAQ,UAAU,KAAK,GAAG,CAAC,OAAO,CAAC,QAAQ;oBAAC;oBACtF,KAAK;wBAAE,GAAG,KAAK,GAAG,CAAC,GAAG;wBAAE,UAAU,QAAQ,UAAU,KAAK,GAAG,CAAC,GAAG,CAAC,QAAQ;oBAAC;gBAC5E;YACF,CAAC;IACH;IAEA,MAAM,sBAAsB;QAC1B,MAAM,KAAK;QACX,SAAS,CAAC,OAAS,CAAC;gBAClB,GAAG,IAAI;gBACP,aAAa;uBACR,KAAK,WAAW;oBACnB;wBACE;wBACA,MAAM,EAAE;wBACR,MAAM;wBACN,QAAQ;oBACV;iBACD;YACH,CAAC;QACD,eAAe,CAAC;YACd,MAAM,OAAO,IAAI,IAAI;YACrB,KAAK,GAAG,CAAC;YACT,OAAO;QACT;QACA,qBAAqB;IACvB;IAEA,MAAM,yBAAyB,CAAC;QAC9B,SAAS,CAAC;YACR,MAAM,OAAO,KAAK,WAAW,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;YAC3D,IAAI,CAAC,KAAK,MAAM,EAAE,OAAO;YACzB,OAAO;gBAAE,GAAG,IAAI;gBAAE,aAAa;YAAK;QACtC;IACF;IAEA,MAAM,yBAAyB;QAC7B,SAAS,CAAC,OAAS,CAAC;gBAClB,GAAG,IAAI;gBACP,aAAa,IAAA,oIAAqB,EAAC,KAAK,OAAO,CAAC,QAAQ;YAC1D,CAAC;IACH;IAEA,IAAA,mXAAS,EAAC;QACR,IAAI,CAAC,mBAAmB;QACxB,MAAM,QAAQ,oBAAoB,OAAO,CAAC,kBAAkB;QAC5D,IAAI,OAAO;YACT,MAAM,KAAK;YACX,MAAM,cAAc,CAAC;gBAAE,OAAO;gBAAU,UAAU;YAAS;YAC3D,qBAAqB;QACvB;IACF,GAAG;QAAC;QAAmB,MAAM,WAAW;KAAC;IAEzC,qBACE,+YAAC,qIAAM;QAAC,MAAM;QAAM,cAAc;;0BAChC,+YAAC,4IAAa;gBAAC,OAAO;0BAAE;;;;;;0BACxB,+YAAC,4IAAa;gBAAC,oBAAiB;gBAAuB,WAAU;;kCAC/D,+YAAC,2IAAY;;0CACX,+YAAC;gCAAI,WAAU;;kDACb,+YAAC,0IAAW;kDAAE,EAAE;;;;;;kDAChB,+YAAC,mIAAK;wCAAC,SAAQ;;4CACZ,EAAE;4CAAyB;4CAAE;4CAC7B,mBAAmB,UAChB,EAAE,2BACF,mBAAmB,UACnB,EAAE,2BACF,EAAE;;;;;;;;;;;;;0CAGV,+YAAC,gJAAiB;gCAAC,IAAG;0CACnB,EAAE;;;;;;;;;;;;kCAGP,+YAAC,iIAAI;wBAAC,cAAa;wBAAU,WAAU;;0CACrC,+YAAC,qIAAQ;gCAAC,WAAU;;kDAClB,+YAAC,wIAAW;wCAAC,OAAM;kDAAW,EAAE;;;;;;kDAChC,+YAAC,wIAAW;wCAAC,OAAM;kDAAO,EAAE;;;;;;kDAC5B,+YAAC,wIAAW;wCAAC,OAAM;kDAAe,EAAE;;;;;;;;;;;;0CAEtC,+YAAC;gCAAI,WAAU;;kDACb,+YAAC,wIAAW;wCAAC,OAAM;wCAAU,WAAU;;0DACrC,+YAAC;gDAAQ,OAAO,EAAE;0DAChB,cAAA,+YAAC;oDAAI,WAAU;;sEACb,+YAAC;4DAAM,OAAO,EAAE;sEAEd,cAAA,+YAAC;gEACC,WAAU;gEACV,OAAO,MAAM,OAAO,CAAC,KAAK;gEAC1B,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;4EAClB,GAAG,IAAI;4EACP,SAAS;gFAAE,GAAG,KAAK,OAAO;gFAAE,OAAO,MAAM,MAAM,CAAC,KAAK;4EAAQ;wEAC/D,CAAC;;kFAGH,+YAAC;wEAAO,OAAM;kFAAU,EAAE;;;;;;kFAC1B,+YAAC;wEAAO,OAAM;kFAAS,EAAE;;;;;;kFACzB,+YAAC;wEAAO,OAAM;kFAAQ,EAAE;;;;;;;;;;;;;;;;;sEAG5B,+YAAC;4DAAM,OAAO,EAAE;sEACd,cAAA,+YAAC;gEACC,WAAU;gEACV,OAAO,MAAM,OAAO,CAAC,QAAQ;gEAC7B,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;4EAClB,GAAG,IAAI;4EACP,SAAS;gFAAE,GAAG,KAAK,OAAO;gFAAE,UAAU,MAAM,MAAM,CAAC,KAAK;4EAAQ;wEAClE,CAAC;0EAGF,+HAAgB,CAAC,GAAG,CAAC,CAAC,uBACrB,+YAAC;wEAAoB,OAAO;kFACzB,EAAE,CAAC,SAAS,EAAE,QAAQ;uEADZ;;;;;;;;;;;;;;;;;;;;;;;;;;0DAQvB,+YAAC,2IAAS;;;;;0DACV,+YAAC;gDAAQ,OAAO,EAAE;0DAChB,cAAA,+YAAC;oDAAM,OAAO,EAAE;8DACd,cAAA,+YAAC,mIAAK;wDACJ,OAAO,MAAM,OAAO,CAAC,MAAM;wDAC3B,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;oEAClB,GAAG,IAAI;oEACP,SAAS;wEAAE,GAAG,KAAK,OAAO;wEAAE,QAAQ,MAAM,MAAM,CAAC,KAAK;oEAAC;gEACzD,CAAC;;;;;;;;;;;;;;;;;;;;;;kDAMX,+YAAC,wIAAW;wCAAC,OAAM;wCAAM,WAAU;;0DACjC,+YAAC;gDAAQ,OAAO,EAAE;;kEAChB,+YAAC;wDAAM,OAAO,EAAE;kEACd,cAAA,+YAAC;4DACC,WAAU;4DACV,OAAO,MAAM,GAAG,CAAC,OAAO,CAAC,QAAQ;4DACjC,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;wEAClB,GAAG,IAAI;wEACP,KAAK;4EACH,GAAG,KAAK,GAAG;4EACX,SAAS;gFAAE,GAAG,KAAK,GAAG,CAAC,OAAO;gFAAE,UAAU,MAAM,MAAM,CAAC,KAAK;4EAAQ;wEACtE;oEACF,CAAC;4DAEH,UAAU,MAAM,OAAO,CAAC,OAAO;sEAE9B,iBAAiB,GAAG,CAAC,CAAC,yBACrB,+YAAC;oEAAsB,OAAO;8EAC3B,aAAa,UACV,EAAE,oBACF,aAAa,uBACb,EAAE,4BACF,EAAE;mEALK;;;;;;;;;;;;;;;kEAUnB,+YAAC;wDAAI,WAAU;;0EACb,+YAAC;gEAAM,OAAO,EAAE;0EACd,cAAA,+YAAC,mIAAK;oEACJ,MAAK;oEACL,aAAa,EAAE;oEACf,OAAO,MAAM,GAAG,CAAC,OAAO,CAAC,MAAM;oEAC/B,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;gFAClB,GAAG,IAAI;gFACP,KAAK;oFACH,GAAG,KAAK,GAAG;oFACX,SAAS;wFAAE,GAAG,KAAK,GAAG,CAAC,OAAO;wFAAE,QAAQ,MAAM,MAAM,CAAC,KAAK;oFAAC;gFAC7D;4EACF,CAAC;oEAEH,UAAU,MAAM,GAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,WAAW,MAAM,OAAO,CAAC,OAAO;;;;;;;;;;;0EAG7E,+YAAC;gEAAM,OAAO,EAAE;0EACd,cAAA,+YAAC,mIAAK;oEACJ,aAAa,EAAE;oEACf,OAAO,MAAM,GAAG,CAAC,OAAO,CAAC,QAAQ;oEACjC,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;gFAClB,GAAG,IAAI;gFACP,KAAK;oFACH,GAAG,KAAK,GAAG;oFACX,SAAS;wFAAE,GAAG,KAAK,GAAG,CAAC,OAAO;wFAAE,UAAU,MAAM,MAAM,CAAC,KAAK;oFAAC;gFAC/D;4EACF,CAAC;oEAEH,UAAU,MAAM,GAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,WAAW,MAAM,OAAO,CAAC,OAAO;;;;;;;;;;;;;;;;;kEAI/E,+YAAC;wDAAM,OAAO,EAAE;kEACd,cAAA,+YAAC;4DACC,WAAU;4DACV,OAAO,MAAM,GAAG,CAAC,OAAO,CAAC,QAAQ;4DACjC,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;wEAClB,GAAG,IAAI;wEACP,KAAK;4EACH,GAAG,KAAK,GAAG;4EACX,SAAS;gFAAE,GAAG,KAAK,GAAG,CAAC,OAAO;gFAAE,UAAU,MAAM,MAAM,CAAC,KAAK;4EAAQ;wEACtE;oEACF,CAAC;sEAGF,UAAU,GAAG,CAAC,CAAC,yBACd,+YAAC;oEAAsB,OAAO;8EAC3B,aAAa,SAAS,EAAE,mBAAmB,EAAE,CAAC,SAAS,EAAE,UAAU;mEADzD;;;;;;;;;;;;;;;;;;;;;0DAOrB,+YAAC,2IAAS;;;;;0DACV,+YAAC;gDAAQ,OAAO,EAAE;;kEAChB,+YAAC;wDAAM,OAAO,EAAE;kEACd,cAAA,+YAAC;4DACC,WAAU;4DACV,OAAO,MAAM,GAAG,CAAC,GAAG,CAAC,QAAQ;4DAC7B,UAAU,CAAC;gEACT,MAAM,WAAW,MAAM,MAAM,CAAC,KAAK;gEACnC,MAAM,aAAa,SAAS,CAAC,SAAS,IAAI,UAAU,KAAK;gEACzD,SAAS,CAAC,OAAS,CAAC;wEAClB,GAAG,IAAI;wEACP,KAAK;4EACH,GAAG,KAAK,GAAG;4EACX,KAAK;gFAAE,GAAG,KAAK,GAAG,CAAC,GAAG;gFAAE;gFAAU,OAAO,UAAU,CAAC,EAAE,IAAI;4EAAG;wEAC/D;oEACF,CAAC;4DACH;4DACA,UAAU,MAAM,OAAO,CAAC,OAAO;sEAE9B,aAAa,GAAG,CAAC,CAAC,yBACjB,+YAAC;oEAAsB,OAAO;8EAC3B,aAAa,UACV,EAAE,oBACF,aAAa,WACb,EAAE,qBACF,aAAa,WACb,EAAE,qBACF,aAAa,WACb,EAAE,qBACF,EAAE;mEATK;;;;;;;;;;;;;;;kEAcnB,+YAAC;wDAAI,WAAU;;0EACb,+YAAC;gEAAM,OAAO,EAAE;0EACd,cAAA,+YAAC;oEACC,WAAU;oEACV,OAAO,MAAM,GAAG,CAAC,GAAG,CAAC,KAAK,IAAI,YAAY,CAAC,EAAE;oEAC7C,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;gFAClB,GAAG,IAAI;gFACP,KAAK;oFACH,GAAG,KAAK,GAAG;oFACX,KAAK;wFAAE,GAAG,KAAK,GAAG,CAAC,GAAG;wFAAE,OAAO,MAAM,MAAM,CAAC,KAAK;oFAAC;gFACpD;4EACF,CAAC;oEAEH,UAAU,MAAM,OAAO,CAAC,OAAO;8EAE9B,aAAa,GAAG,CAAC,CAAC,sBACjB,+YAAC;4EAAmB,OAAO;sFACxB;2EADU;;;;;;;;;;;;;;;0EAMnB,+YAAC;gEAAM,OAAO,EAAE;0EACd,cAAA,+YAAC,mIAAK;oEACJ,MAAK;oEACL,aAAa,EAAE;oEACf,OAAO,MAAM,GAAG,CAAC,GAAG,CAAC,MAAM;oEAC3B,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;gFAClB,GAAG,IAAI;gFACP,KAAK;oFACH,GAAG,KAAK,GAAG;oFACX,KAAK;wFAAE,GAAG,KAAK,GAAG,CAAC,GAAG;wFAAE,QAAQ,MAAM,MAAM,CAAC,KAAK;oFAAC;gFACrD;4EACF,CAAC;oEAEH,UAAU,MAAM,GAAG,CAAC,GAAG,CAAC,QAAQ,KAAK,WAAW,MAAM,OAAO,CAAC,OAAO;;;;;;;;;;;;;;;;;kEAI3E,+YAAC;wDAAM,OAAO,EAAE;kEAEd,cAAA,+YAAC,mIAAK;4DACJ,aAAa,EAAE;4DACf,OAAO,MAAM,GAAG,CAAC,GAAG,CAAC,OAAO;4DAC5B,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;wEAClB,GAAG,IAAI;wEACP,KAAK;4EACH,GAAG,KAAK,GAAG;4EACX,KAAK;gFAAE,GAAG,KAAK,GAAG,CAAC,GAAG;gFAAE,SAAS,MAAM,MAAM,CAAC,KAAK;4EAAC;wEACtD;oEACF,CAAC;4DAEH,UAAU,MAAM,GAAG,CAAC,GAAG,CAAC,QAAQ,KAAK,WAAW,MAAM,OAAO,CAAC,OAAO;;;;;;;;;;;;;;;;;0DAI3E,+YAAC,2IAAS;;;;;0DACV,+YAAC;gDAAQ,OAAO,EAAE;;kEAEhB,+YAAC;wDAAM,WAAU;;0EACf,+YAAC;0EAAM,EAAE;;;;;;0EACT,+YAAC;gEACC,MAAK;gEACL,WAAU;gEACV,SAAS,MAAM,OAAO,CAAC,OAAO;gEAC9B,UAAU,CAAC,QAAU,oBAAoB,MAAM,MAAM,CAAC,OAAO;;;;;;;;;;;;kEAGjE,+YAAC;wDAAM,WAAU;;0EACf,+YAAC;0EAAM,EAAE;;;;;;0EACT,+YAAC;gEACC,MAAK;gEACL,WAAU;gEACV,SAAS,MAAM,OAAO,CAAC,UAAU;gEACjC,UAAU,CAAC,QACT,SAAS,CAAC,OAAS,CAAC;4EAClB,GAAG,IAAI;4EACP,SAAS;gFAAE,GAAG,KAAK,OAAO;gFAAE,YAAY,MAAM,MAAM,CAAC,OAAO;4EAAC;wEAC/D,CAAC;;;;;;;;;;;;;;;;;;;;;;;;kDAMX,+YAAC,wIAAW;wCAAC,OAAM;wCAAc,WAAU;kDACzC,cAAA,+YAAC;4CAAQ,OAAO,EAAE;4CAA+B,aAAa,EAAE;;8DAC9D,+YAAC;oDAAI,WAAU;;sEACb,+YAAC,qIAAM;4DAAC,SAAQ;4DAAQ,SAAS;;8EAC/B,+YAAC,iTAAS;oEAAC,WAAU;;;;;;gEACpB,EAAE;;;;;;;sEAEL,+YAAC,qIAAM;4DAAC,SAAQ;4DAAY,SAAS;;8EACnC,+YAAC,8RAAI;oEAAC,WAAU;;;;;;gEACf,EAAE;;;;;;;;;;;;;8DAGP,+YAAC;oDAAI,WAAU;;wDACZ,MAAM,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM;4DAC5B,MAAM,OAAO,IAAA,4HAAW,EAAC,KAAK,IAAI;4DAClC,qBACE,+YAAC;gEAAkB,WAAU;;kFAC3B,+YAAC;wEAAI,WAAU;;0FACb,+YAAC;gFAAI,WAAU;;kGACb,+YAAC;wFAAK,WAAU;kGACd,cAAA,+YAAC;4FAAK,WAAU;;;;;;;;;;;kGAElB,+YAAC,mIAAK;wFACJ,OAAO,KAAK,IAAI;wFAChB,KAAK,CAAC;4FACJ,oBAAoB,OAAO,CAAC,KAAK,EAAE,CAAC,GAAG;wFACzC;wFACA,UAAU,CAAC,QACT,SAAS,CAAC;gGACR,MAAM,OAAO;uGAAI,KAAK,WAAW;iGAAC;gGAClC,IAAI,CAAC,MAAM,GAAG;oGAAE,GAAG,IAAI;oGAAE,MAAM,MAAM,MAAM,CAAC,KAAK;gGAAC;gGAClD,OAAO;oGAAE,GAAG,IAAI;oGAAE,aAAa;gGAAK;4FACtC;wFAEF,WAAU;wFACV,aAAa,EAAE;;;;;;;;;;;;0FAGnB,+YAAC;gFAAI,WAAU;;kGACb,+YAAC;wFACC,MAAK;wFACL,SAAS,IACP,eAAe,CAAC;gGACd,MAAM,OAAO,IAAI,IAAI;gGACrB,IAAI,KAAK,GAAG,CAAC,KAAK,EAAE,GAAG;oGACrB,KAAK,MAAM,CAAC,KAAK,EAAE;gGACrB,OAAO;oGACL,KAAK,GAAG,CAAC,KAAK,EAAE;gGAClB;gGACA,OAAO;4FACT;wFAEF,WAAW,CAAC,2HAA2H,EACrI,YAAY,GAAG,CAAC,KAAK,EAAE,IAAI,eAAe,IAC1C;wFACF,cAAW;kGAEX,cAAA,+YAAC,uTAAW;4FAAC,WAAU;;;;;;;;;;;kGAEzB,+YAAC,qIAAM;wFACL,SAAQ;wFACR,MAAK;wFACL,SAAS,IAAM,uBAAuB,KAAK,EAAE;wFAC7C,UAAU,MAAM,WAAW,CAAC,MAAM,IAAI;wFACtC,cAAY,EAAE;kGAEd,cAAA,+YAAC,wSAAM;4FAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;oEAIvB,YAAY,GAAG,CAAC,KAAK,EAAE,mBACtB;;0FACE,+YAAC;gFAAI,WAAU;0FACb,cAAA,+YAAC;oFAAM,OAAO,EAAE;8FACd,cAAA,+YAAC;wFAAI,WAAU;kGACZ,4HAAW,CAAC,GAAG,CAAC,CAAC;4FAChB,MAAM,eAAe,OAAO,IAAI;4FAChC,MAAM,WAAW,OAAO,EAAE,KAAK,KAAK,IAAI;4FACxC,qBACE,+YAAC;gGAEC,MAAK;gGACL,SAAS,IACP,SAAS,CAAC;wGACR,MAAM,OAAO;+GAAI,KAAK,WAAW;yGAAC;wGAClC,IAAI,CAAC,MAAM,GAAG;4GAAE,GAAG,IAAI;4GAAE,MAAM,OAAO,EAAE;wGAAC;wGACzC,OAAO;4GAAE,GAAG,IAAI;4GAAE,aAAa;wGAAK;oGACtC;gGAEF,WAAW,CAAC,+FAA+F,EACzG,WACI,8CACA,gCACJ;gGACF,cAAY,OAAO,KAAK;;kHAExB,+YAAC;wGAAa,WAAU;;;;;;kHACxB,+YAAC;kHAAM,OAAO,KAAK;;;;;;;+FAjBd,OAAO,EAAE;;;;;wFAoBpB;;;;;;;;;;;;;;;;0FAIN,+YAAC;gFAAM,OAAO,EAAE;0FACd,cAAA,+YAAC;oFACC,WAAU;oFACV,OAAO,KAAK,MAAM;oFAClB,UAAU,CAAC,QACT,SAAS,CAAC;4FACR,MAAM,OAAO;mGAAI,KAAK,WAAW;6FAAC;4FAClC,IAAI,CAAC,MAAM,GAAG;gGAAE,GAAG,IAAI;gGAAE,QAAQ,MAAM,MAAM,CAAC,KAAK;4FAAC;4FACpD,OAAO;gGAAE,GAAG,IAAI;gGAAE,aAAa;4FAAK;wFACtC;;;;;;;;;;;;;;+DAjGF,KAAK,EAAE;;;;;wDAyGrB;wDACC,CAAC,MAAM,WAAW,CAAC,MAAM,kBACxB,+YAAC;4DAAI,WAAU;sEACZ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQjB,+YAAC,2IAAY;;0CACX,+YAAC,qIAAM;gCAAC,SAAQ;gCAAQ,SAAS,IAAM,QAAQ;0CAC5C,EAAE;;;;;;0CAEL,+YAAC,qIAAM;gCACL,SAAS;oCACP,MAAM,OAAO;wCACX,GAAG,KAAK;wCACR,KAAK;4CACH,GAAG,MAAM,GAAG;4CACZ,KAAK;gDAAE,GAAG,MAAM,GAAG,CAAC,GAAG;gDAAE,OAAO,MAAM,GAAG,CAAC,GAAG,CAAC,KAAK,IAAI,YAAY,CAAC,EAAE,IAAI;4CAAG;wCAC/E;oCACF;oCACA,MAAM,eAAe;oCACrB,QAAQ;gCACV;0CAEC,EAAE;;;;;;;;;;;;;;;;;;;;;;;;AAMf"}},
    {"offset": {"line": 3422, "column": 0}, "map": {"version":3,"sources":["file:///Users/jensdietrich/workspace/prj/ai-voice-note/components/AppShell.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Mic, Moon, Settings, Sun } from \"lucide-react\";\n\nimport { useAppStore } from \"@/lib/store\";\nimport { cn, isEditableTarget, matchesHotkey } from \"@/lib/utils\";\nimport { useI18n } from \"@/lib/i18n\";\nimport { Button } from \"@/components/ui/button\";\nimport { TooltipProvider, Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport { Sidebar } from \"@/components/Sidebar\";\nimport { SessionView } from \"@/components/SessionView\";\nimport { SettingsDialog } from \"@/components/SettingsDialog\";\n\nexport function AppShell() {\n  const {\n    state: { settings, sessions, activeSessionId },\n    actions: { toggleTheme, startRecording, stopRecording },\n  } = useAppStore();\n\n  const SIDEBAR_MIN = 240;\n  const SIDEBAR_MAX = 420;\n  const SIDEBAR_DEFAULT = 300;\n  const SIDEBAR_STORAGE_KEY = \"ai-voice-note:sidebar-width\";\n\n  const clampWidth = useCallback(\n    (value: number) => Math.min(SIDEBAR_MAX, Math.max(SIDEBAR_MIN, value)),\n    [SIDEBAR_MAX, SIDEBAR_MIN]\n  );\n\n  const [sidebarWidth, setSidebarWidth] = useState(SIDEBAR_DEFAULT);\n  const [isResizing, setIsResizing] = useState(false);\n  const widthRef = useRef(sidebarWidth);\n  const dragState = useRef<{ startX: number; startWidth: number } | null>(null);\n  const bodyCursorRef = useRef<string>(\"\");\n  const bodySelectRef = useRef<string>(\"\");\n\n  const isDark = settings.general.theme === \"dark\";\n  const { t } = useI18n(settings.general.language);\n  const activeSession = sessions.find((session) => session.id === activeSessionId) ?? null;\n  const isRecording = activeSession?.status === \"recording\";\n\n  const updateSidebarWidth = useCallback(\n    (value: number) => {\n      const next = clampWidth(value);\n      widthRef.current = next;\n      setSidebarWidth(next);\n      return next;\n    },\n    [clampWidth]\n  );\n\n  const persistSidebarWidth = useCallback(() => {\n    if (typeof window === \"undefined\") return;\n    window.localStorage.setItem(SIDEBAR_STORAGE_KEY, String(widthRef.current));\n  }, [SIDEBAR_STORAGE_KEY]);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const stored = window.localStorage.getItem(SIDEBAR_STORAGE_KEY);\n    if (!stored) return;\n    const parsed = Number(stored);\n    if (!Number.isNaN(parsed)) {\n      updateSidebarWidth(parsed);\n    }\n  }, [SIDEBAR_STORAGE_KEY, updateSidebarWidth]);\n\n  const handlePointerDown = useCallback(\n    (event: React.PointerEvent<HTMLDivElement>) => {\n      if (event.button !== 0) return;\n      event.preventDefault();\n      dragState.current = { startX: event.clientX, startWidth: widthRef.current };\n      setIsResizing(true);\n      bodyCursorRef.current = document.body.style.cursor;\n      bodySelectRef.current = document.body.style.userSelect;\n      document.body.style.cursor = \"col-resize\";\n      document.body.style.userSelect = \"none\";\n\n      const handlePointerMove = (moveEvent: PointerEvent) => {\n        if (!dragState.current) return;\n        const delta = moveEvent.clientX - dragState.current.startX;\n        updateSidebarWidth(dragState.current.startWidth + delta);\n      };\n\n      const finishResize = () => {\n        dragState.current = null;\n        setIsResizing(false);\n        document.body.style.cursor = bodyCursorRef.current;\n        document.body.style.userSelect = bodySelectRef.current;\n        persistSidebarWidth();\n        window.removeEventListener(\"pointermove\", handlePointerMove);\n        window.removeEventListener(\"pointerup\", finishResize);\n        window.removeEventListener(\"pointercancel\", finishResize);\n      };\n\n      window.addEventListener(\"pointermove\", handlePointerMove);\n      window.addEventListener(\"pointerup\", finishResize);\n      window.addEventListener(\"pointercancel\", finishResize);\n    },\n    [persistSidebarWidth, updateSidebarWidth]\n  );\n\n  const handleKeyResize = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === \"ArrowLeft\") {\n        event.preventDefault();\n        updateSidebarWidth(widthRef.current - 12);\n        persistSidebarWidth();\n      }\n      if (event.key === \"ArrowRight\") {\n        event.preventDefault();\n        updateSidebarWidth(widthRef.current + 12);\n        persistSidebarWidth();\n      }\n      if (event.key === \"Home\") {\n        event.preventDefault();\n        updateSidebarWidth(SIDEBAR_MIN);\n        persistSidebarWidth();\n      }\n      if (event.key === \"End\") {\n        event.preventDefault();\n        updateSidebarWidth(SIDEBAR_MAX);\n        persistSidebarWidth();\n      }\n    },\n    [SIDEBAR_MAX, SIDEBAR_MIN, persistSidebarWidth, updateSidebarWidth]\n  );\n\n  const handleResetSidebar = useCallback(() => {\n    updateSidebarWidth(SIDEBAR_DEFAULT);\n    persistSidebarWidth();\n  }, [SIDEBAR_DEFAULT, persistSidebarWidth, updateSidebarWidth]);\n\n  useEffect(() => {\n    const handler = (event: KeyboardEvent) => {\n      if (isEditableTarget(event.target)) return;\n      if (!matchesHotkey(event, settings.general.hotkey)) return;\n      event.preventDefault();\n      if (isRecording) {\n        stopRecording();\n      } else {\n        void startRecording();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handler);\n    return () => window.removeEventListener(\"keydown\", handler);\n  }, [isRecording, settings.general.hotkey, startRecording, stopRecording]);\n\n  return (\n    <TooltipProvider>\n      <div className=\"flex h-screen flex-col bg-background text-foreground\">\n        <header className=\"flex h-14 items-center justify-between border-b border-border px-6\">\n          <div className=\"flex items-center gap-2 text-sm font-semibold\">\n            <span className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary\">\n              <Mic className=\"h-4 w-4\" />\n            </span>\n            <span>{t(\"app.title\")}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={toggleTheme}\n                  aria-label={t(\"aria.toggleTheme\")}\n                >\n                  {isDark ? <Sun className=\"h-4 w-4\" /> : <Moon className=\"h-4 w-4\" />}\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{t(\"app.theme\")}</TooltipContent>\n            </Tooltip>\n            <SettingsDialog>\n              <Button variant=\"ghost\" size=\"icon\" aria-label={t(\"app.settings\")}>\n                <Settings className=\"h-4 w-4\" />\n              </Button>\n            </SettingsDialog>\n          </div>\n        </header>\n        <div className=\"flex flex-1 overflow-hidden\">\n          <div\n            className=\"relative flex h-full flex-none overflow-hidden border-r border-border\"\n            style={{ width: sidebarWidth }}\n          >\n            <Sidebar />\n          </div>\n          <div\n            role=\"separator\"\n            aria-orientation=\"vertical\"\n            aria-label={t(\"aria.resizeSidebar\")}\n            aria-valuemin={SIDEBAR_MIN}\n            aria-valuemax={SIDEBAR_MAX}\n            aria-valuenow={Math.round(sidebarWidth)}\n            tabIndex={0}\n            onPointerDown={handlePointerDown}\n            onDoubleClick={handleResetSidebar}\n            onKeyDown={handleKeyResize}\n            className={cn(\n              \"group relative z-10 flex w-2 cursor-col-resize items-center justify-center bg-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n              isResizing && \"bg-accent/20\"\n            )}\n          >\n            <div className=\"h-full w-px bg-border transition-colors group-hover:bg-foreground/30\" />\n          </div>\n          <main className=\"flex-1 overflow-y-auto bg-background\">\n            <SessionView />\n          </main>\n        </div>\n      </div>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}